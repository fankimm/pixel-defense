const i18n = {
    // Top 15 languages by global usage (including Korean)
    translations: {
        en: {
            // UI
            wave: "Wave",
            coins: "Coins",
            startWave: "Start Wave",
            waveInProgress: "Wave in Progress",
            auto: "Auto",
            hp: "HP",
            speed: "Speed",
            gameOver: "Game Over!",
            youReachedWave: "You reached wave",
            highScore: "High Score: Wave",
            playAgain: "Play Again",
            spawn: "SPAWN",
            newGame: "New Game",
            confirmNewGame: "Start a new game? Current progress will be lost.",

            // Tower names
            basic: "Basic",
            sniper: "Sniper",
            splash: "Splash",
            ice: "Ice",
            poison: "Poison",
            chain: "Chain",
            laser: "Laser",

            // Tower upgrade
            towerUpgrade: "Tower Upgrade",
            level: "Level",
            damage: "Damage",
            range: "Range",
            upgrade: "Upgrade",
            sell: "Sell",
            close: "Close",

            // Ads
            ads: [
                "Hot singles in your area want to play tower defense!",
                "Doctors HATE this one weird trick to defeat enemies!",
                "You won't believe what Wave 50 looks like!",
                "Download RAM to make your towers shoot faster!",
                "This tower defense game is banned in 0 countries!",
                "Congratulations! You're our 1,000,000th defender!",
                "Scientists discovered this new tower type! Governments hate it!",
                "Get rich with this ONE SIMPLE tower placement!",
                "Your towers need updating! Click here! (Just kidding)",
                "Warning: Your defense is not optimized! (It's fine actually)"
            ]
        },

        zh: { // Chinese (Simplified)
            wave: "æ³¢æ¬¡",
            coins: "é‡‘å¸",
            startWave: "å¼€å§‹æ³¢æ¬¡",
            waveInProgress: "æ³¢æ¬¡è¿›è¡Œä¸­",
            auto: "è‡ªåŠ¨",
            hp: "ç”Ÿå‘½å€¼",
            speed: "é€Ÿåº¦",
            gameOver: "æ¸¸æˆç»“æŸï¼",
            youReachedWave: "ä½ è¾¾åˆ°äº†ç¬¬",
            highScore: "æœ€é«˜åˆ†ï¼šç¬¬",
            playAgain: "å†çŽ©ä¸€æ¬¡",
            spawn: "å‡ºç”Ÿç‚¹",
            newGame: "æ–°æ¸¸æˆ",
            confirmNewGame: "å¼€å§‹æ–°æ¸¸æˆï¼Ÿå½“å‰è¿›åº¦å°†ä¸¢å¤±ã€‚",
            basic: "åŸºç¡€",
            sniper: "ç‹™å‡»",
            splash: "æº…å°„",
            ice: "å†°å†»",
            poison: "æ¯’è¯",
            chain: "è¿žé”",
            laser: "æ¿€å…‰",
            towerUpgrade: "å¡”å‡çº§",
            level: "ç­‰çº§",
            damage: "ä¼¤å®³",
            range: "èŒƒå›´",
            upgrade: "å‡çº§",
            sell: "å‡ºå”®",
            close: "å…³é—­",
            ads: [
                "ä½ é™„è¿‘çš„å•èº«æƒ³çŽ©å¡”é˜²æ¸¸æˆï¼",
                "åŒ»ç”Ÿæœ€è®¨åŽŒè¿™ä¸ªå‡»è´¥æ•Œäººçš„æŠ€å·§ï¼",
                "ä½ ä¸ä¼šç›¸ä¿¡ç¬¬50æ³¢æ˜¯ä»€ä¹ˆæ ·å­ï¼",
                "ä¸‹è½½å†…å­˜è®©ä½ çš„å¡”å°„å‡»æ›´å¿«ï¼",
                "è¿™ä¸ªå¡”é˜²æ¸¸æˆåœ¨0ä¸ªå›½å®¶è¢«ç¦ï¼",
                "æ­å–œï¼ä½ æ˜¯æˆ‘ä»¬çš„ç¬¬1000000ä¸ªé˜²å¾¡è€…ï¼",
                "ç§‘å­¦å®¶å‘çŽ°äº†è¿™ç§æ–°çš„å¡”ç±»åž‹ï¼æ”¿åºœè®¨åŽŒå®ƒï¼",
                "ç”¨è¿™ä¸ªç®€å•çš„å¡”ä½ç½®è‡´å¯Œï¼",
                "ä½ çš„å¡”éœ€è¦æ›´æ–°ï¼ç‚¹å‡»è¿™é‡Œï¼ï¼ˆå¼€çŽ©ç¬‘çš„ï¼‰",
                "è­¦å‘Šï¼šä½ çš„é˜²å¾¡æœªä¼˜åŒ–ï¼ï¼ˆå…¶å®žæ²¡äº‹ï¼‰"
            ]
        },

        es: { // Spanish
            wave: "Oleada",
            coins: "Monedas",
            startWave: "Iniciar Oleada",
            waveInProgress: "Oleada en Progreso",
            auto: "Auto",
            hp: "PV",
            speed: "Velocidad",
            gameOver: "Â¡Juego Terminado!",
            youReachedWave: "Llegaste a la oleada",
            highScore: "PuntuaciÃ³n MÃ¡xima: Oleada",
            playAgain: "Jugar de Nuevo",
            spawn: "INICIO",
            newGame: "Nuevo Juego",
            confirmNewGame: "Â¿Empezar un nuevo juego? Se perderÃ¡ el progreso actual.",
            basic: "BÃ¡sica",
            sniper: "Francotirador",
            splash: "Explosiva",
            ice: "Hielo",
            poison: "Veneno",
            chain: "Cadena",
            laser: "LÃ¡ser",
            towerUpgrade: "Mejorar Torre",
            level: "Nivel",
            damage: "DaÃ±o",
            range: "Alcance",
            upgrade: "Mejorar",
            sell: "Vender",
            close: "Cerrar",
            ads: [
                "Â¡Solteros en tu Ã¡rea quieren jugar tower defense!",
                "Â¡Los mÃ©dicos ODIAN este truco para derrotar enemigos!",
                "Â¡No creerÃ¡s cÃ³mo es la Oleada 50!",
                "Â¡Descarga RAM para que tus torres disparen mÃ¡s rÃ¡pido!",
                "Â¡Este juego estÃ¡ prohibido en 0 paÃ­ses!",
                "Â¡Felicidades! Â¡Eres nuestro defensor nÃºmero 1.000.000!",
                "Â¡Los cientÃ­ficos descubrieron este nuevo tipo de torre!",
                "Â¡Hazte rico con esta SIMPLE colocaciÃ³n de torre!",
                "Â¡Tus torres necesitan actualizaciÃ³n! Â¡Haz clic aquÃ­! (Es broma)",
                "Advertencia: Â¡Tu defensa no estÃ¡ optimizada! (En realidad estÃ¡ bien)"
            ]
        },

        hi: { // Hindi
            wave: "à¤µà¥‡à¤µ",
            coins: "à¤¸à¤¿à¤•à¥à¤•à¥‡",
            startWave: "à¤µà¥‡à¤µ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚",
            waveInProgress: "à¤µà¥‡à¤µ à¤ªà¥à¤°à¤—à¤¤à¤¿ à¤®à¥‡à¤‚",
            auto: "à¤‘à¤Ÿà¥‹",
            hp: "à¤à¤šà¤ªà¥€",
            speed: "à¤—à¤¤à¤¿",
            gameOver: "à¤—à¥‡à¤® à¤“à¤µà¤°!",
            youReachedWave: "à¤†à¤ª à¤µà¥‡à¤µ à¤¤à¤• à¤ªà¤¹à¥à¤‚à¤šà¥‡",
            highScore: "à¤¹à¤¾à¤ˆ à¤¸à¥à¤•à¥‹à¤°: à¤µà¥‡à¤µ",
            playAgain: "à¤«à¤¿à¤° à¤¸à¥‡ à¤–à¥‡à¤²à¥‡à¤‚",
            spawn: "à¤¸à¥à¤ªà¥‰à¤¨",
            basic: "à¤¬à¥‡à¤¸à¤¿à¤•",
            sniper: "à¤¸à¥à¤¨à¤¾à¤‡à¤ªà¤°",
            splash: "à¤¸à¥à¤ªà¥à¤²à¥ˆà¤¶",
            ice: "à¤†à¤‡à¤¸",
            poison: "à¤ªà¥‰à¤‡à¤œà¤¼à¤¨",
            chain: "à¤šà¥‡à¤¨",
            laser: "à¤²à¥‡à¤œà¤¼à¤°",
            towerUpgrade: "à¤Ÿà¤¾à¤µà¤° à¤…à¤ªà¤—à¥à¤°à¥‡à¤¡",
            level: "à¤²à¥‡à¤µà¤²",
            damage: "à¤¡à¥ˆà¤®à¥‡à¤œ",
            range: "à¤°à¥‡à¤‚à¤œ",
            upgrade: "à¤…à¤ªà¤—à¥à¤°à¥‡à¤¡",
            sell: "à¤¬à¥‡à¤šà¥‡à¤‚",
            close: "à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚",
            ads: [
                "à¤†à¤ªà¤•à¥‡ à¤•à¥à¤·à¥‡à¤¤à¥à¤° à¤®à¥‡à¤‚ à¤¸à¤¿à¤‚à¤—à¤²à¥à¤¸ à¤Ÿà¤¾à¤µà¤° à¤¡à¤¿à¤«à¥‡à¤‚à¤¸ à¤–à¥‡à¤²à¤¨à¤¾ à¤šà¤¾à¤¹à¤¤à¥‡ à¤¹à¥ˆà¤‚!",
                "à¤¡à¥‰à¤•à¥à¤Ÿà¤° à¤‡à¤¸ à¤Ÿà¥à¤°à¤¿à¤• à¤¸à¥‡ à¤¨à¤«à¤°à¤¤ à¤•à¤°à¤¤à¥‡ à¤¹à¥ˆà¤‚!",
                "à¤†à¤ª à¤µà¤¿à¤¶à¥à¤µà¤¾à¤¸ à¤¨à¤¹à¥€à¤‚ à¤•à¤°à¥‡à¤‚à¤—à¥‡ à¤µà¥‡à¤µ 50 à¤•à¥ˆà¤¸à¥€ à¤¦à¤¿à¤–à¤¤à¥€ à¤¹à¥ˆ!",
                "RAM à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚ à¤”à¤° à¤Ÿà¤¾à¤µà¤° à¤¤à¥‡à¤œà¤¼à¥€ à¤¸à¥‡ à¤¶à¥‚à¤Ÿ à¤•à¤°à¥‡à¤‚!",
                "à¤¯à¤¹ à¤—à¥‡à¤® 0 à¤¦à¥‡à¤¶à¥‹à¤‚ à¤®à¥‡à¤‚ à¤ªà¥à¤°à¤¤à¤¿à¤¬à¤‚à¤§à¤¿à¤¤ à¤¹à¥ˆ!",
                "à¤¬à¤§à¤¾à¤ˆ! à¤†à¤ª à¤¹à¤®à¤¾à¤°à¥‡ 1,000,000à¤µà¥‡à¤‚ à¤¡à¤¿à¤«à¥‡à¤‚à¤¡à¤° à¤¹à¥ˆà¤‚!",
                "à¤µà¥ˆà¤œà¥à¤žà¤¾à¤¨à¤¿à¤•à¥‹à¤‚ à¤¨à¥‡ à¤–à¥‹à¤œà¤¾ à¤¨à¤¯à¤¾ à¤Ÿà¤¾à¤µà¤° à¤Ÿà¤¾à¤‡à¤ª!",
                "à¤‡à¤¸ à¤¸à¤¿à¤‚à¤ªà¤² à¤Ÿà¤¾à¤µà¤° à¤ªà¥à¤²à¥‡à¤¸à¤®à¥‡à¤‚à¤Ÿ à¤¸à¥‡ à¤…à¤®à¥€à¤° à¤¬à¤¨à¥‡à¤‚!",
                "à¤†à¤ªà¤•à¥‡ à¤Ÿà¤¾à¤µà¤° à¤•à¥‹ à¤…à¤ªà¤¡à¥‡à¤Ÿ à¤•à¥€ à¤œà¤¼à¤°à¥‚à¤°à¤¤ à¤¹à¥ˆ! (à¤®à¤œà¤¼à¤¾à¤• à¤•à¤° à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚)",
                "à¤šà¥‡à¤¤à¤¾à¤µà¤¨à¥€: à¤†à¤ªà¤•à¤¾ à¤¡à¤¿à¤«à¥‡à¤‚à¤¸ à¤‘à¤ªà¥à¤Ÿà¤¿à¤®à¤¾à¤‡à¤œà¤¼ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆ! (à¤…à¤¸à¤² à¤®à¥‡à¤‚ à¤ à¥€à¤• à¤¹à¥ˆ)"
            ]
        },

        ar: { // Arabic
            wave: "Ù…ÙˆØ¬Ø©",
            coins: "Ø¹Ù…Ù„Ø§Øª",
            startWave: "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…ÙˆØ¬Ø©",
            waveInProgress: "Ø§Ù„Ù…ÙˆØ¬Ø© Ù‚ÙŠØ¯ Ø§Ù„ØªÙ‚Ø¯Ù…",
            auto: "ØªÙ„Ù‚Ø§Ø¦ÙŠ",
            hp: "Ø§Ù„ØµØ­Ø©",
            speed: "Ø§Ù„Ø³Ø±Ø¹Ø©",
            gameOver: "Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!",
            youReachedWave: "ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¬Ø©",
            highScore: "Ø£Ø¹Ù„Ù‰ Ù†ØªÙŠØ¬Ø©: Ù…ÙˆØ¬Ø©",
            playAgain: "Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
            spawn: "Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©",
            basic: "Ø£Ø³Ø§Ø³ÙŠ",
            sniper: "Ù‚Ù†Ø§Øµ",
            splash: "Ø§Ù†ÙØ¬Ø§Ø±",
            ice: "Ø«Ù„Ø¬",
            poison: "Ø³Ù…",
            chain: "Ø³Ù„Ø³Ù„Ø©",
            laser: "Ù„ÙŠØ²Ø±",
            towerUpgrade: "ØªØ±Ù‚ÙŠØ© Ø§Ù„Ø¨Ø±Ø¬",
            level: "Ø§Ù„Ù…Ø³ØªÙˆÙ‰",
            damage: "Ø§Ù„Ø¶Ø±Ø±",
            range: "Ø§Ù„Ù…Ø¯Ù‰",
            upgrade: "ØªØ±Ù‚ÙŠØ©",
            sell: "Ø¨ÙŠØ¹",
            close: "Ø¥ØºÙ„Ø§Ù‚",
            ads: [
                "Ø§Ù„Ø¹Ø²Ø§Ø¨ ÙÙŠ Ù…Ù†Ø·Ù‚ØªÙƒ ÙŠØ±ÙŠØ¯ÙˆÙ† Ù„Ø¹Ø¨ Ø§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ø¨Ø±Ø¬!",
                "Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡ ÙŠÙƒØ±Ù‡ÙˆÙ† Ù‡Ø°Ù‡ Ø§Ù„Ø­ÙŠÙ„Ø© Ù„Ù‡Ø²ÙŠÙ…Ø© Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡!",
                "Ù„Ù† ØªØµØ¯Ù‚ ÙƒÙŠÙ ØªØ¨Ø¯Ùˆ Ø§Ù„Ù…ÙˆØ¬Ø© 50!",
                "Ø­Ù…Ù‘Ù„ Ø°Ø§ÙƒØ±Ø© RAM Ù„Ø¬Ø¹Ù„ Ø£Ø¨Ø±Ø§Ø¬Ùƒ ØªØ·Ù„Ù‚ Ø§Ù„Ù†Ø§Ø± Ø¨Ø´ÙƒÙ„ Ø£Ø³Ø±Ø¹!",
                "Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ø­Ø¸ÙˆØ±Ø© ÙÙŠ 0 Ø¯ÙˆÙ„Ø©!",
                "ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ø£Ù†Øª Ø§Ù„Ù…Ø¯Ø§ÙØ¹ Ø±Ù‚Ù… 1,000,000!",
                "Ø§Ù„Ø¹Ù„Ù…Ø§Ø¡ Ø§ÙƒØªØ´ÙÙˆØ§ Ù†ÙˆØ¹ Ø¨Ø±Ø¬ Ø¬Ø¯ÙŠØ¯!",
                "Ø§Ø«Ø±Ù Ø¨Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶Ø¹ Ø§Ù„Ø¨Ø³ÙŠØ· Ù„Ù„Ø¨Ø±Ø¬!",
                "Ø£Ø¨Ø±Ø§Ø¬Ùƒ ØªØ­ØªØ§Ø¬ ØªØ­Ø¯ÙŠØ«! Ø§Ù†Ù‚Ø± Ù‡Ù†Ø§! (Ù…Ø²Ø­Ø©)",
                "ØªØ­Ø°ÙŠØ±: Ø¯ÙØ§Ø¹Ùƒ ØºÙŠØ± Ù…Ø­Ø³Ù‘Ù†! (ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø¨Ø®ÙŠØ±)"
            ]
        },

        pt: { // Portuguese
            wave: "Onda",
            coins: "Moedas",
            startWave: "Iniciar Onda",
            waveInProgress: "Onda em Progresso",
            auto: "Auto",
            hp: "PV",
            speed: "Velocidade",
            gameOver: "Fim de Jogo!",
            youReachedWave: "VocÃª alcanÃ§ou a onda",
            highScore: "Recorde: Onda",
            playAgain: "Jogar Novamente",
            spawn: "INÃCIO",
            basic: "BÃ¡sica",
            sniper: "Sniper",
            splash: "Explosiva",
            ice: "Gelo",
            poison: "Veneno",
            chain: "Corrente",
            laser: "Laser",
            towerUpgrade: "Melhorar Torre",
            level: "NÃ­vel",
            damage: "Dano",
            range: "Alcance",
            upgrade: "Melhorar",
            sell: "Vender",
            close: "Fechar",
            ads: [
                "Solteiros na sua Ã¡rea querem jogar tower defense!",
                "MÃ©dicos ODEIAM este truque para derrotar inimigos!",
                "VocÃª nÃ£o vai acreditar na Onda 50!",
                "Baixe RAM para suas torres atirarem mais rÃ¡pido!",
                "Este jogo estÃ¡ proibido em 0 paÃ­ses!",
                "ParabÃ©ns! VocÃª Ã© nosso defensor nÃºmero 1.000.000!",
                "Cientistas descobriram este novo tipo de torre!",
                "Fique rico com esta SIMPLES colocaÃ§Ã£o de torre!",
                "Suas torres precisam de atualizaÃ§Ã£o! Clique aqui! (Brincadeira)",
                "Aviso: Sua defesa nÃ£o estÃ¡ otimizada! (EstÃ¡ tudo bem na verdade)"
            ]
        },

        ru: { // Russian
            wave: "Ð’Ð¾Ð»Ð½Ð°",
            coins: "ÐœÐ¾Ð½ÐµÑ‚Ñ‹",
            startWave: "ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð²Ð¾Ð»Ð½Ñƒ",
            waveInProgress: "Ð’Ð¾Ð»Ð½Ð° Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ",
            auto: "ÐÐ²Ñ‚Ð¾",
            hp: "Ð¥ÐŸ",
            speed: "Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ",
            gameOver: "Ð˜Ð³Ñ€Ð° Ð¾ÐºÐ¾Ð½Ñ‡ÐµÐ½Ð°!",
            youReachedWave: "Ð’Ñ‹ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð»Ð¸ Ð²Ð¾Ð»Ð½Ñ‹",
            highScore: "Ð ÐµÐºÐ¾Ñ€Ð´: Ð’Ð¾Ð»Ð½Ð°",
            playAgain: "Ð˜Ð³Ñ€Ð°Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð°",
            spawn: "Ð¡ÐŸÐÐ’Ð",
            basic: "Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ",
            sniper: "Ð¡Ð½Ð°Ð¹Ð¿ÐµÑ€",
            splash: "Ð’Ð·Ñ€Ñ‹Ð²Ð½Ð°Ñ",
            ice: "Ð›ÐµÐ´",
            poison: "Ð¯Ð´",
            chain: "Ð¦ÐµÐ¿ÑŒ",
            laser: "Ð›Ð°Ð·ÐµÑ€",
            towerUpgrade: "Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ðµ Ð±Ð°ÑˆÐ½Ð¸",
            level: "Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ",
            damage: "Ð£Ñ€Ð¾Ð½",
            range: "Ð”Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ",
            upgrade: "Ð£Ð»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ",
            sell: "ÐŸÑ€Ð¾Ð´Ð°Ñ‚ÑŒ",
            close: "Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",
            ads: [
                "ÐžÐ´Ð¸Ð½Ð¾ÐºÐ¸Ðµ Ð² Ð²Ð°ÑˆÐµÐ¼ Ñ€Ð°Ð¹Ð¾Ð½Ðµ Ñ…Ð¾Ñ‚ÑÑ‚ Ð¸Ð³Ñ€Ð°Ñ‚ÑŒ Ð² tower defense!",
                "Ð’Ñ€Ð°Ñ‡Ð¸ ÐÐ•ÐÐÐ’Ð˜Ð”Ð¯Ð¢ ÑÑ‚Ð¾Ñ‚ Ñ‚Ñ€ÑŽÐº Ð´Ð»Ñ Ð¿Ð¾Ð±ÐµÐ´Ñ‹ Ð½Ð°Ð´ Ð²Ñ€Ð°Ð³Ð°Ð¼Ð¸!",
                "Ð’Ñ‹ Ð½Ðµ Ð¿Ð¾Ð²ÐµÑ€Ð¸Ñ‚Ðµ, ÐºÐ°Ðº Ð²Ñ‹Ð³Ð»ÑÐ´Ð¸Ñ‚ Ð’Ð¾Ð»Ð½Ð° 50!",
                "Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ RAM Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð±Ð°ÑˆÐ½Ð¸ ÑÑ‚Ñ€ÐµÐ»ÑÐ»Ð¸ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ!",
                "Ð­Ñ‚Ð° Ð¸Ð³Ñ€Ð° Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½Ð° Ð² 0 ÑÑ‚Ñ€Ð°Ð½Ð°Ñ…!",
                "ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÐµÐ¼! Ð’Ñ‹ Ð½Ð°Ñˆ 1.000.000-Ð¹ Ð·Ð°Ñ‰Ð¸Ñ‚Ð½Ð¸Ðº!",
                "Ð£Ñ‡ÐµÐ½Ñ‹Ðµ Ð¾Ñ‚ÐºÑ€Ñ‹Ð»Ð¸ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ‚Ð¸Ð¿ Ð±Ð°ÑˆÐ½Ð¸!",
                "Ð Ð°Ð·Ð±Ð¾Ð³Ð°Ñ‚ÐµÐ¹Ñ‚Ðµ Ñ ÑÑ‚Ð¸Ð¼ ÐŸÐ ÐžÐ¡Ð¢Ð«Ðœ Ñ€Ð°Ð·Ð¼ÐµÑ‰ÐµÐ½Ð¸ÐµÐ¼ Ð±Ð°ÑˆÐ½Ð¸!",
                "Ð’Ð°ÑˆÐ¸ Ð±Ð°ÑˆÐ½Ð¸ Ð½ÑƒÐ¶Ð´Ð°ÑŽÑ‚ÑÑ Ð² Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¸! ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð·Ð´ÐµÑÑŒ! (Ð¨ÑƒÑ‚ÐºÐ°)",
                "ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ: Ð’Ð°ÑˆÐ° Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð½Ðµ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°! (ÐÐ° ÑÐ°Ð¼Ð¾Ð¼ Ð´ÐµÐ»Ðµ Ð²ÑÐµ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾)"
            ]
        },

        ja: { // Japanese
            wave: "ã‚¦ã‚§ãƒ¼ãƒ–",
            coins: "ã‚³ã‚¤ãƒ³",
            startWave: "ã‚¦ã‚§ãƒ¼ãƒ–é–‹å§‹",
            waveInProgress: "ã‚¦ã‚§ãƒ¼ãƒ–é€²è¡Œä¸­",
            auto: "ã‚ªãƒ¼ãƒˆ",
            hp: "HP",
            speed: "é€Ÿåº¦",
            gameOver: "ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ï¼",
            youReachedWave: "ã‚¦ã‚§ãƒ¼ãƒ–",
            highScore: "ãƒã‚¤ã‚¹ã‚³ã‚¢ï¼šã‚¦ã‚§ãƒ¼ãƒ–",
            playAgain: "ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤",
            spawn: "ã‚¹ãƒãƒ¼ãƒ³",
            basic: "ãƒ™ãƒ¼ã‚·ãƒƒã‚¯",
            sniper: "ã‚¹ãƒŠã‚¤ãƒ‘ãƒ¼",
            splash: "ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥",
            ice: "ã‚¢ã‚¤ã‚¹",
            poison: "ãƒã‚¤ã‚ºãƒ³",
            chain: "ãƒã‚§ã‚¤ãƒ³",
            laser: "ãƒ¬ãƒ¼ã‚¶ãƒ¼",
            towerUpgrade: "ã‚¿ãƒ¯ãƒ¼ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰",
            level: "ãƒ¬ãƒ™ãƒ«",
            damage: "ãƒ€ãƒ¡ãƒ¼ã‚¸",
            range: "ç¯„å›²",
            upgrade: "ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰",
            sell: "å£²å´",
            close: "é–‰ã˜ã‚‹",
            ads: [
                "ã‚ãªãŸã®åœ°åŸŸã®ã‚·ãƒ³ã‚°ãƒ«ãŒã‚¿ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ•ã‚§ãƒ³ã‚¹ã‚’ãƒ—ãƒ¬ã‚¤ã—ãŸãŒã£ã¦ã„ã¾ã™ï¼",
                "åŒ»è€…ã¯ã“ã®æ•µã‚’å€’ã™ãƒˆãƒªãƒƒã‚¯ã‚’å«Œã„ã¾ã™ï¼",
                "ã‚¦ã‚§ãƒ¼ãƒ–50ãŒã©ã‚“ãªæ„Ÿã˜ã‹ä¿¡ã˜ã‚‰ã‚Œã¾ã›ã‚“ï¼",
                "RAMã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¿ãƒ¯ãƒ¼ã®å°„æ’ƒã‚’é€Ÿãã—ã‚ˆã†ï¼",
                "ã“ã®ã‚²ãƒ¼ãƒ ã¯0ã‹å›½ã§ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ï¼",
                "ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼ã‚ãªãŸã¯1,000,000äººç›®ã®ãƒ‡ã‚£ãƒ•ã‚§ãƒ³ãƒ€ãƒ¼ã§ã™ï¼",
                "ç§‘å­¦è€…ãŒæ–°ã—ã„ã‚¿ãƒ¯ãƒ¼ã‚¿ã‚¤ãƒ—ã‚’ç™ºè¦‹ã—ã¾ã—ãŸï¼",
                "ã“ã®ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¿ãƒ¯ãƒ¼é…ç½®ã§é‡‘æŒã¡ã«ãªã‚ã†ï¼",
                "ã‚¿ãƒ¯ãƒ¼ã®æ›´æ–°ãŒå¿…è¦ã§ã™ï¼ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ï¼ˆå†—è«‡ã§ã™ï¼‰",
                "è­¦å‘Šï¼šã‚ãªãŸã®é˜²å¾¡ã¯æœ€é©åŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼ï¼ˆå®Ÿéš›ã¯å¤§ä¸ˆå¤«ï¼‰"
            ]
        },

        de: { // German
            wave: "Welle",
            coins: "MÃ¼nzen",
            startWave: "Welle starten",
            waveInProgress: "Welle lÃ¤uft",
            auto: "Auto",
            hp: "LP",
            speed: "Geschwindigkeit",
            gameOver: "Spiel vorbei!",
            youReachedWave: "Du hast Welle erreicht",
            highScore: "Highscore: Welle",
            playAgain: "Nochmal spielen",
            spawn: "START",
            basic: "Basis",
            sniper: "ScharfschÃ¼tze",
            splash: "Explosion",
            ice: "Eis",
            poison: "Gift",
            chain: "Kette",
            laser: "Laser",
            towerUpgrade: "Turm verbessern",
            level: "Level",
            damage: "Schaden",
            range: "Reichweite",
            upgrade: "Verbessern",
            sell: "Verkaufen",
            close: "SchlieÃŸen",
            ads: [
                "Singles in deiner NÃ¤he wollen Tower Defense spielen!",
                "Ã„rzte HASSEN diesen Trick um Feinde zu besiegen!",
                "Du wirst nicht glauben wie Welle 50 aussieht!",
                "RAM herunterladen damit deine TÃ¼rme schneller schieÃŸen!",
                "Dieses Spiel ist in 0 LÃ¤ndern verboten!",
                "GlÃ¼ckwunsch! Du bist unser 1.000.000ster Verteidiger!",
                "Wissenschaftler entdeckten diesen neuen Turmtyp!",
                "Reich werden mit dieser EINFACHEN Turmplatzierung!",
                "Deine TÃ¼rme brauchen ein Update! Hier klicken! (Nur SpaÃŸ)",
                "Warnung: Deine Verteidigung ist nicht optimiert! (Ist eigentlich ok)"
            ]
        },

        fr: { // French
            wave: "Vague",
            coins: "PiÃ¨ces",
            startWave: "DÃ©marrer la vague",
            waveInProgress: "Vague en cours",
            auto: "Auto",
            hp: "PV",
            speed: "Vitesse",
            gameOver: "Fin de partie!",
            youReachedWave: "Vous avez atteint la vague",
            highScore: "Meilleur score: Vague",
            playAgain: "Rejouer",
            spawn: "DÃ‰PART",
            basic: "Basique",
            sniper: "Sniper",
            splash: "Explosif",
            ice: "Glace",
            poison: "Poison",
            chain: "ChaÃ®ne",
            laser: "Laser",
            towerUpgrade: "AmÃ©liorer la tour",
            level: "Niveau",
            damage: "DÃ©gÃ¢ts",
            range: "PortÃ©e",
            upgrade: "AmÃ©liorer",
            sell: "Vendre",
            close: "Fermer",
            ads: [
                "Des cÃ©libataires prÃ¨s de chez vous veulent jouer au tower defense!",
                "Les mÃ©decins DÃ‰TESTENT cette astuce pour vaincre les ennemis!",
                "Vous ne croirez pas Ã  quoi ressemble la Vague 50!",
                "TÃ©lÃ©chargez de la RAM pour que vos tours tirent plus vite!",
                "Ce jeu est interdit dans 0 pays!",
                "FÃ©licitations! Vous Ãªtes notre 1.000.000Ã¨me dÃ©fenseur!",
                "Les scientifiques ont dÃ©couvert ce nouveau type de tour!",
                "Devenez riche avec ce placement de tour SIMPLE!",
                "Vos tours ont besoin d'une mise Ã  jour! Cliquez ici! (C'est une blague)",
                "Attention: Votre dÃ©fense n'est pas optimisÃ©e! (En fait c'est bon)"
            ]
        },

        ko: { // Korean
            wave: "ì›¨ì´ë¸Œ",
            coins: "ì½”ì¸",
            startWave: "ì›¨ì´ë¸Œ ì‹œìž‘",
            waveInProgress: "ì›¨ì´ë¸Œ ì§„í–‰ ì¤‘",
            auto: "ìžë™",
            hp: "ì²´ë ¥",
            speed: "ì†ë„",
            gameOver: "ê²Œìž„ ì˜¤ë²„!",
            youReachedWave: "ë„ë‹¬í•œ ì›¨ì´ë¸Œ",
            highScore: "ìµœê³  ê¸°ë¡: ì›¨ì´ë¸Œ",
            playAgain: "ë‹¤ì‹œ í•˜ê¸°",
            spawn: "ì‹œìž‘",
            newGame: "ìƒˆ ê²Œìž„",
            confirmNewGame: "ìƒˆ ê²Œìž„ì„ ì‹œìž‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? í˜„ìž¬ ì§„í–‰ ìƒí™©ì´ ì‚¬ë¼ì§‘ë‹ˆë‹¤.",
            basic: "ê¸°ë³¸",
            sniper: "ì €ê²©",
            splash: "ìŠ¤í”Œëž˜ì‹œ",
            ice: "ì–¼ìŒ",
            poison: "ë…",
            chain: "ì²´ì¸",
            laser: "ë ˆì´ì €",
            towerUpgrade: "íƒ€ì›Œ ì—…ê·¸ë ˆì´ë“œ",
            level: "ë ˆë²¨",
            damage: "ë°ë¯¸ì§€",
            range: "ì‚¬ê±°ë¦¬",
            upgrade: "ì—…ê·¸ë ˆì´ë“œ",
            sell: "íŒë§¤",
            close: "ë‹«ê¸°",
            ads: [
                "ë‹¹ì‹  ì§€ì—­ì˜ ì‹±ê¸€ë“¤ì´ íƒ€ì›Œ ë””íŽœìŠ¤ë¥¼ í”Œë ˆì´í•˜ê³  ì‹¶ì–´í•´ìš”!",
                "ì˜ì‚¬ë“¤ì´ ì´ ì  ì²˜ì¹˜ ë¹„ë²•ì„ ì‹«ì–´í•©ë‹ˆë‹¤!",
                "50 ì›¨ì´ë¸Œê°€ ì–´ë–¤ì§€ ë¯¿ì§€ ëª»í•  ê±°ì˜ˆìš”!",
                "RAMì„ ë‹¤ìš´ë¡œë“œí•´ì„œ íƒ€ì›Œ ë°œì‚¬ ì†ë„ë¥¼ ë†’ì´ì„¸ìš”!",
                "ì´ ê²Œìž„ì€ 0ê°œêµ­ì—ì„œ ê¸ˆì§€ë˜ì—ˆìŠµë‹ˆë‹¤!",
                "ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì‹ ì€ 1,000,000ë²ˆì§¸ ë°©ì–´ìžìž…ë‹ˆë‹¤!",
                "ê³¼í•™ìžë“¤ì´ ìƒˆë¡œìš´ íƒ€ì›Œ íƒ€ìž…ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤!",
                "ì´ ê°„ë‹¨í•œ íƒ€ì›Œ ë°°ì¹˜ë¡œ ë¶€ìžê°€ ë˜ì„¸ìš”!",
                "íƒ€ì›Œ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤! ì—¬ê¸°ë¥¼ í´ë¦­! (ë†ë‹´ìž…ë‹ˆë‹¤)",
                "ê²½ê³ : ë‹¹ì‹ ì˜ ë°©ì–´ê°€ ìµœì í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤! (ì‚¬ì‹¤ ê´œì°®ì•„ìš”)"
            ]
        },

        it: { // Italian
            wave: "Ondata",
            coins: "Monete",
            startWave: "Inizia ondata",
            waveInProgress: "Ondata in corso",
            auto: "Auto",
            hp: "PV",
            speed: "VelocitÃ ",
            gameOver: "Game Over!",
            youReachedWave: "Hai raggiunto l'ondata",
            highScore: "Record: Ondata",
            playAgain: "Gioca ancora",
            spawn: "INIZIO",
            basic: "Base",
            sniper: "Cecchino",
            splash: "Esplosiva",
            ice: "Ghiaccio",
            poison: "Veleno",
            chain: "Catena",
            laser: "Laser",
            towerUpgrade: "Potenzia torre",
            level: "Livello",
            damage: "Danno",
            range: "Raggio",
            upgrade: "Potenzia",
            sell: "Vendi",
            close: "Chiudi",
            ads: [
                "Single nella tua zona vogliono giocare a tower defense!",
                "I dottori ODIANO questo trucco per sconfiggere i nemici!",
                "Non crederai a come sia l'Ondata 50!",
                "Scarica RAM per far sparare le tue torri piÃ¹ velocemente!",
                "Questo gioco Ã¨ vietato in 0 paesi!",
                "Congratulazioni! Sei il nostro 1.000.000Â° difensore!",
                "Gli scienziati hanno scoperto questo nuovo tipo di torre!",
                "Diventa ricco con questo SEMPLICE piazzamento di torre!",
                "Le tue torri necessitano aggiornamento! Clicca qui! (Scherzo)",
                "Attenzione: La tua difesa non Ã¨ ottimizzata! (In realtÃ  va bene)"
            ]
        },

        tr: { // Turkish
            wave: "Dalga",
            coins: "Para",
            startWave: "DalgayÄ± BaÅŸlat",
            waveInProgress: "Dalga Devam Ediyor",
            auto: "Oto",
            hp: "Can",
            speed: "HÄ±z",
            gameOver: "Oyun Bitti!",
            youReachedWave: "UlaÅŸtÄ±ÄŸÄ±nÄ±z dalga",
            highScore: "En YÃ¼ksek Skor: Dalga",
            playAgain: "Tekrar Oyna",
            spawn: "BAÅžLANGIÃ‡",
            basic: "Temel",
            sniper: "Keskin NiÅŸancÄ±",
            splash: "PatlayÄ±cÄ±",
            ice: "Buz",
            poison: "Zehir",
            chain: "Zincir",
            laser: "Lazer",
            towerUpgrade: "Kule GeliÅŸtir",
            level: "Seviye",
            damage: "Hasar",
            range: "Menzil",
            upgrade: "GeliÅŸtir",
            sell: "Sat",
            close: "Kapat",
            ads: [
                "BÃ¶lgenizdeki bekarlar kule savunmasÄ± oynamak istiyor!",
                "Doktorlar dÃ¼ÅŸmanlarÄ± yenmek iÃ§in bu numaradan NEFRET ediyor!",
                "50. DalganÄ±n nasÄ±l gÃ¶rÃ¼ndÃ¼ÄŸÃ¼ne inanamayacaksÄ±nÄ±z!",
                "Kulelerinizin daha hÄ±zlÄ± ateÅŸ etmesi iÃ§in RAM indirin!",
                "Bu oyun 0 Ã¼lkede yasaklandÄ±!",
                "Tebrikler! 1.000.000'uncu savunmacÄ±mÄ±zsÄ±nÄ±z!",
                "Bilim insanlarÄ± bu yeni kule tÃ¼rÃ¼nÃ¼ keÅŸfetti!",
                "Bu BASÄ°T kule yerleÅŸimiyle zengin olun!",
                "Kulelerinizin gÃ¼ncellenmesi gerekiyor! Buraya tÄ±klayÄ±n! (Åžaka)",
                "UyarÄ±: SavunmanÄ±z optimize edilmemiÅŸ! (AslÄ±nda sorun yok)"
            ]
        },

        pl: { // Polish
            wave: "Fala",
            coins: "Monety",
            startWave: "Rozpocznij falÄ™",
            waveInProgress: "Fala w toku",
            auto: "Auto",
            hp: "PÅ»",
            speed: "PrÄ™dkoÅ›Ä‡",
            gameOver: "Koniec gry!",
            youReachedWave: "DotarÅ‚eÅ› do fali",
            highScore: "Najlepszy wynik: Fala",
            playAgain: "Zagraj ponownie",
            spawn: "START",
            basic: "Podstawowa",
            sniper: "Snajper",
            splash: "Wybuchowa",
            ice: "LÃ³d",
            poison: "Trucizna",
            chain: "ÅaÅ„cuch",
            laser: "Laser",
            towerUpgrade: "Ulepszenie wieÅ¼y",
            level: "Poziom",
            damage: "ObraÅ¼enia",
            range: "ZasiÄ™g",
            upgrade: "Ulepsz",
            sell: "Sprzedaj",
            close: "Zamknij",
            ads: [
                "Single w twojej okolicy chcÄ… graÄ‡ w tower defense!",
                "Lekarze NIENAWIDZÄ„ tej sztuczki na pokonanie wrogÃ³w!",
                "Nie uwierzysz jak wyglÄ…da Fala 50!",
                "Pobierz RAM Å¼eby twoje wieÅ¼e strzelaÅ‚y szybciej!",
                "Ta gra jest zakazana w 0 krajach!",
                "Gratulacje! JesteÅ› naszym 1.000.000 obroÅ„cÄ…!",
                "Naukowcy odkryli ten nowy typ wieÅ¼y!",
                "ZostaÅ„ bogaty z tym PROSTYM ustawieniem wieÅ¼y!",
                "Twoje wieÅ¼e potrzebujÄ… aktualizacji! Kliknij tutaj! (Å»art)",
                "OstrzeÅ¼enie: Twoja obrona nie jest zoptymalizowana! (WÅ‚aÅ›ciwie jest OK)"
            ]
        },

        nl: { // Dutch
            wave: "Golf",
            coins: "Munten",
            startWave: "Start golf",
            waveInProgress: "Golf bezig",
            auto: "Auto",
            hp: "LP",
            speed: "Snelheid",
            gameOver: "Game Over!",
            youReachedWave: "Je bereikte golf",
            highScore: "Hoogste score: Golf",
            playAgain: "Opnieuw spelen",
            spawn: "START",
            basic: "Basis",
            sniper: "Scherpschutter",
            splash: "Explosief",
            ice: "IJs",
            poison: "Vergif",
            chain: "Ketting",
            laser: "Laser",
            towerUpgrade: "Toren upgraden",
            level: "Level",
            damage: "Schade",
            range: "Bereik",
            upgrade: "Upgraden",
            sell: "Verkopen",
            close: "Sluiten",
            ads: [
                "Singles in jouw buurt willen tower defense spelen!",
                "Artsen HATEN deze truc om vijanden te verslaan!",
                "Je gelooft niet hoe Golf 50 eruitziet!",
                "Download RAM om je torens sneller te laten schieten!",
                "Dit spel is verboden in 0 landen!",
                "Gefeliciteerd! Je bent onze 1.000.000e verdediger!",
                "Wetenschappers ontdekten dit nieuwe torentype!",
                "Word rijk met deze SIMPELE torenplaatsing!",
                "Je torens hebben een update nodig! Klik hier! (Grapje)",
                "Waarschuwing: Je verdediging is niet geoptimaliseerd! (Eigenlijk prima)"
            ]
        }
    },

    // Detect user language
    detectLanguage() {
        // First check if user has saved a preference
        const savedLang = localStorage.getItem('preferredLanguage');
        if (savedLang && this.translations[savedLang]) {
            return savedLang;
        }

        // Otherwise use browser language
        const browserLang = navigator.language || navigator.userLanguage;
        const langCode = browserLang.split('-')[0]; // Get language without region

        // Check if we support this language
        if (this.translations[langCode]) {
            return langCode;
        }

        // Default to English
        return 'en';
    },

    // Current language
    currentLang: null,

    // Initialize
    init() {
        this.currentLang = this.detectLanguage();
        this.updateUI();
        this.initLanguageSelector();
    },

    // Initialize language selector
    initLanguageSelector() {
        const selector = document.getElementById('language-selector');
        if (selector) {
            // Set current language
            selector.value = this.currentLang;

            // Add change event listener
            selector.addEventListener('change', (e) => {
                this.changeLanguage(e.target.value);
            });
        }
    },

    // Change language
    changeLanguage(langCode) {
        if (this.translations[langCode]) {
            this.currentLang = langCode;
            localStorage.setItem('preferredLanguage', langCode);
            this.updateUI();

            // Update game elements that might have cached text
            this.updateGameElements();

            // Trigger ad refresh if ad manager exists
            if (window.fakeAdManager && window.fakeAdManager.showRandomAd) {
                window.fakeAdManager.showRandomAd();
            }
        }
    },

    // Get translation
    t(key) {
        return this.translations[this.currentLang][key] || this.translations['en'][key] || key;
    },

    // Get random ad
    getRandomAd() {
        const ads = this.translations[this.currentLang].ads || this.translations['en'].ads;
        return ads[Math.floor(Math.random() * ads.length)];
    },

    // Update all UI elements with translations
    updateUI() {
        // Update static text elements
        const elements = {
            // Labels
            '#wave-label': 'wave',
            '#coins-label': 'coins',
            '#start-wave-btn': 'startWave',
            '#new-game-btn': 'newGame',
            '.toggle-text': 'auto',
            '.speed-controls .label': 'speed',

            // Tower names
            '[data-tower-type="basic"] .tower-name': 'basic',
            '[data-tower-type="sniper"] .tower-name': 'sniper',
            '[data-tower-type="splash"] .tower-name': 'splash',
            '[data-tower-type="freeze"] .tower-name': 'ice',
            '[data-tower-type="poison"] .tower-name': 'poison',
            '[data-tower-type="chain"] .tower-name': 'chain',
            '[data-tower-type="laser"] .tower-name': 'laser',

            // Game over screen
            '#game-over-screen h2': 'gameOver',
            '#restart-btn': 'playAgain',

            // Upgrade panel
            '#upgrade-panel h4': 'towerUpgrade',
            '#close-upgrade-btn': 'close'
        };

        // Update each element
        Object.entries(elements).forEach(([selector, key]) => {
            const elem = document.querySelector(selector);
            if (elem) {
                // Add colon for label elements
                if (selector.includes('label') || selector.includes('-label')) {
                    elem.textContent = this.t(key) + ':';
                } else {
                    elem.textContent = this.t(key);
                }
            }
        });

        // Update complex elements
        this.updateComplexElements();

        // Update speed label
        const speedLabel = document.querySelector('.speed-controls .label');
        if (speedLabel) {
            speedLabel.textContent = this.t('speed') + ':';
        }
    },

    updateGameElements() {
        // Update all dynamic game elements
        if (window.gameEngine && window.gameEngine.uiManager) {
            window.gameEngine.uiManager.updateDisplay();

            // Update upgrade panel if it's open
            if (window.gameEngine.uiManager.selectedTower) {
                window.gameEngine.uiManager.showUpgradePanel(
                    window.gameEngine.uiManager.selectedTower
                );
            }
        }

        // Force map redraw to update spawn text
        if (window.gameEngine && window.gameEngine.map) {
            window.gameEngine.render();
        }
    },

    updateComplexElements() {
        // Update HP text
        const hpText = document.getElementById('hp-text');
        if (hpText) {
            const hpMatch = hpText.innerHTML.match(/(\d+)\/(\d+)/);
            if (hpMatch) {
                hpText.innerHTML = `${this.t('hp')}: ${hpMatch[1]}/${hpMatch[2]}`;
            }
        }

        // Update upgrade button
        const upgradeBtn = document.getElementById('upgrade-btn');
        if (upgradeBtn) {
            const costSpan = upgradeBtn.querySelector('#upgrade-cost');
            if (costSpan) {
                const cost = costSpan.textContent;
                upgradeBtn.innerHTML = `${this.t('upgrade')} (ðŸ’° <span id="upgrade-cost">${cost}</span>)`;
            }
        }

        // Update sell button
        const sellBtn = document.getElementById('sell-btn');
        if (sellBtn) {
            const valueSpan = sellBtn.querySelector('#sell-value');
            if (valueSpan) {
                const value = valueSpan.textContent;
                sellBtn.innerHTML = `${this.t('sell')} (ðŸ’° <span id="sell-value">${value}</span>)`;
            }
        }

        // Update game over message
        const finalWaveElem = document.getElementById('final-wave');
        const highScoreElem = document.getElementById('high-score');
        if (finalWaveElem && finalWaveElem.parentElement) {
            const waveNum = finalWaveElem.textContent;
            finalWaveElem.parentElement.innerHTML = `${this.t('youReachedWave')} <span id="final-wave">${waveNum}</span>`;
        }
        if (highScoreElem && highScoreElem.parentElement) {
            const scoreNum = highScoreElem.textContent;
            highScoreElem.parentElement.innerHTML = `${this.t('highScore')} <span id="high-score">${scoreNum}</span>`;
        }
    }
};